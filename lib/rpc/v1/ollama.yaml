title: Ollama API

methods:
  version:
    title: Get Ollama version

  tags:
    title: List local models

  ps:
    title: List running models

  show:
    title: Show model information
    params:
      - name: model
        required: true
        schema:
          type: string
      - name: options
        schema:
          type: object
          properties:
            verbose: { type: boolean }
          additionalProperties: false

  pull:
    title: Pull a model
    params:
      - name: model
        required: true
        schema:
          type: string
      - name: options
        schema:
          type: object
          properties:
            stream: { type: boolean }
          additionalProperties: false

  delete:
    title: Delete a model
    params:
      - name: model
        required: true
        schema:
          type: string

  chat:
    title: Generate a chat completion
    params:
      - name: options
        schema:
          type: object
          properties:
            model: { type: string }
            messages:
              type: array
              items:
                type: object
                properties:
                  role: { enum: [system, user, assistant, tool] }
                  content: { type: string }
                  images: { type: array, items: { type: string }, minItems: 1 }
                  tool_calls: { type: array }
                additionalProperties: false
                required: [role, content]
              minItems: 1
            tools: { type: array }
            options: { type: object }
            stream: { type: boolean }
            keep_alive: { type: string, format: interval }
          additionalProperties: false
          required: [model, messages]

  generate:
    title: Generate a completion
    params:
      - name: options
        schema:
          type: object
          properties:
            model: { type: string }
            prompt: { type: string }
            suffix: { type: string }
            images: { type: array, items: { type: string }, minItems: 1 }
            options: { type: object }
            template: { type: string }
            stream: { type: boolean }
            raw: { type: boolean }
            keep_alive: { type: string, format: interval }
          additionalProperties: false
          required: [model, prompt]

  embed:
    title: Generate embeddings
    params:
      - name: options
        schema:
          type: object
          properties:
            model: { type: string }
            input: { type: string }
            truncate: { type: boolean }
            keep_alive: { type: string, format: interval }
            options: { type: object }
          additionalProperties: false
          required: [model, input]
